(window.webpackJsonp=window.webpackJsonp||[]).push([[161,176],{"0af8":function(t,e,s){"use strict";s.r(e),s.d(e,"roundToNearestDevicePixel",(function(){return p})),s.d(e,"default",(function(){return u}));var i=s("KEM+"),o=s.n(i),n=s("ERkP"),r=s("n+l9"),a=(s("aWzz"),s("v6aA")),c=s("jHwr"),d=s("rHpw"),l=s("i4Oy"),h=s("MWbm");const p=({cssPixels:t,dpr:e})=>Math.round(t*e)/e;class u extends n.PureComponent{constructor(t,e){super(t,e),o()(this,"_setContentRef",(t=>{this._contentNode=t})),o()(this,"_setContainerRef",(t=>{this._containerNode=t})),o()(this,"_handleProgrammaticScroll",(t=>{this._prevScrollY=(this._prevScrollY||0)+t,this.setState({contentOffset:Math.max(0,this.state.contentOffset+t)})})),o()(this,"_handleLayout",(t=>{const e=t.nativeEvent.layout.height>this.state.contentHeight;this._updatePositioning(e)})),this.state={stickyTop:!0,stickyThreshold:0,contentOffset:0,contentHeight:0,stickyOffset:0,position:r.b()?"sticky":"static"},this._scheduleUpdatePositioning=Object(c.a)(this._updatePositioning.bind(this),window.requestAnimationFrame)}UNSAFE_componentWillMount(){const{viewport:t}=this.context;this._removeProgrammaticScrollListener=t.addProgrammaticScrollListener(this._handleProgrammaticScroll)}componentDidMount(){const{viewport:t}=this.context;if(this._updatePositioning(),this._removeScrollListener=t.addScrollListener(this._scheduleUpdatePositioning),this._containerNode){const e=this._containerNode.getBoundingClientRect(),s=t.scrollY();this._prevScrollY=s,this.setState({stickyOffset:s+e.top})}}componentWillUnmount(){this._removeScrollListener&&this._removeScrollListener(),this._removeProgrammaticScrollListener&&this._removeProgrammaticScrollListener()}render(){const{stickyTop:t,stickyThreshold:e,contentOffset:s,position:i}=this.state,o=m[i],r=window.devicePixelRatio||1,a=p({cssPixels:e,dpr:r}),c=p({cssPixels:s,dpr:r}),d={top:t?`${a}px`:null,bottom:t?null:`${a}px`};return n.createElement(h.a,{ref:this._setContainerRef,style:[m.container,{minHeight:this.state.contentHeight}]},n.createElement(h.a,{style:{marginTop:`${c}px`}}),n.createElement(h.a,{onLayout:this._handleLayout,ref:this._setContentRef,style:[this.props.style,d,o]},this.props.children))}_updatePositioning(t=!1){if(!this._contentNode||!this._containerNode)return;const e=this.context.viewport.scrollY(),s=e-this._prevScrollY;if(Math.abs(s)<.5&&!t)return;const{distanceFromBottom:i}=this.props;this._prevScrollY=e;const o=!!this._contentNode&&this._contentNode.getBoundingClientRect(),n=!!this._containerNode&&this._containerNode.getBoundingClientRect();if(!o||!n)return;const{height:a}=l.a.get("window"),c=e+n.top,d=Math.max(o.top-n.top,0);if(a-o.height>c)this._updateState({stickyTop:!0,stickyThreshold:c,contentOffset:0,stickyOffset:c,contentHeight:o.height,position:"fixed"});else{const t=s>0,e=t!==this.state.stickyTop,n=window.devicePixelRatio||1,l=o.bottom-a+i<=1/n,h=c-o.top<=1/n;if((t&&l||!t&&h)&&r.a()){const t=i,e=c;this._updateState({position:"fixed",stickyOffset:c,stickyTop:h,stickyThreshold:h?e:t,contentOffset:d,contentHeight:o.height})}else{const s=a-o.height-i,n=a-o.height-c,l=r.b()?"sticky":"static";this._updateState({position:l,stickyTop:t,stickyOffset:c,stickyThreshold:t?s:n,contentOffset:e?d:this.state.contentOffset,contentHeight:o.height})}}}_updateState(t){const e=this.state.stickyTop!==t.stickyTop,s=this.state.stickyThreshold!==t.stickyThreshold,i=Math.abs(this.state.contentOffset-t.contentOffset)>.5,o=Math.abs(this.state.stickyOffset-t.stickyOffset)>.5,n=this.state.position!==t.position,r=this.state.contentHeight!==t.contentHeight;(e||s||i||o||n||r)&&this.setState(t)}}o()(u,"contextType",a.a),o()(u,"defaultProps",{distanceFromBottom:10});const m=d.a.create((t=>({container:{height:"100%"},sticky:{position:"sticky"},fixed:{position:"fixed"},static:{position:"static"}})))},LHcr:function(t,e,s){"use strict";s.r(e),s.d(e,"WhoToFollowContainer",(function(){return A}));var i=s("KEM+"),o=s.n(i),n=(s("kYxP"),s("ERkP")),r=s("Xs4Y"),a=s("kGix"),c=s("v//M"),d=s("3XMw"),l=s.n(d),h=s("Rp9C"),p=s("rHpw"),u=s("MWbm"),m=s("lP98"),f=s("RqPI"),_=s("rxPX"),y=s("0KEI");const b="profile_accounts_sidebar",g=(t,e)=>f.i(t),w=(t,e)=>e.userId,E=(t,e)=>{const s=w(0,e),i=g(t);return m.c(t,{displayLocation:b,similarToUserId:s===i?void 0:s})},I=(t,e)=>{const s=w(0,e),i=g(t);return m.b(t,{displayLocation:b,similarToUserId:s===i?void 0:s})};var v=Object(_.a)().propsFromState((()=>({fetchStatus:I,loggedInUserId:g,recommendations:E}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(y.d)("WHO_TO_FOLLOW_CONTAINER"),fetchRecommendationsIfNeeded:m.a}))).withAnalytics({component:"suggest_who_to_follow"}),O=s("Re5t"),R=s("hqDb"),S=s("hxu0"),U=s("6vad"),x=s("rC8y");const L=l.a.a526aa66,T=l.a.ef62501f,N=l.a.d228a9a0;var k=Object(S.a)((({withProfileHeaderText:t,userId:e,userIds:s,isInSidebar:i})=>{const o=s.length>3,r=`/i/connect_people?user_id=${e}`;return n.createElement(u.a,{accessibilityLabel:L,accessibilityRole:"complementary"},n.createElement(U.b,{text:t?T:L}),n.createElement(R.a,{displayMode:O.a.UserCompact,userIds:s.slice(0,3),withItemBorder:!0}),o&&n.createElement(x.a,{link:r,text:N,withBottomRadius:!0,withDarkerInteractiveBackground:i}))}));const C=l.a.fd6473fa,H={element:"user",action:"results"},P={viewType:"who_to_follow"};class A extends n.PureComponent{constructor(...t){super(...t),o()(this,"_renderContent",(()=>{const{recommendations:t,userId:e,withProfileHeaderText:s}=this.props,i=t&&t.map((t=>t.user));return n.createElement(k,{userId:e,userIds:i,withProfileHeaderText:s})})),o()(this,"_handleImpression",(t=>{const{analytics:e}=this.props,s=t&&t.slice(0,3).map((t=>({...h.a.forUser(t.user),suggestion_details:{source_data:t.token}})));e.scribe({...H,data:{items:s}})}))}componentDidMount(){const{recommendations:t}=this.props;this._fetchRecommendations(this.props),t&&t.length>0&&this._handleImpression(t)}componentDidUpdate(t){const{recommendations:e}=this.props;this.props.userId!==t.userId&&this._fetchRecommendations(this.props),e!==t.recommendations&&e&&e.length>0&&this._handleImpression(e)}render(){const{fetchStatus:t,style:e}=this.props;return t===a.a.FAILED||this._hasEmptySuggestionList()?null:n.createElement(u.a,{style:[D.root,e]},n.createElement(c.a,{accessibilityLabel:C,clientEventContext:P,fetchStatus:t,render:this._renderContent}))}_fetchRecommendations(t){const{createLocalApiErrorHandler:e,fetchRecommendationsIfNeeded:s,userId:i,loggedInUserId:o}=t;s({limit:4,displayLocation:b,similarToUserId:i!==o?i:void 0}).catch(e(r.a))}_hasEmptySuggestionList(){const{fetchStatus:t,recommendations:e}=this.props;return t===a.a.LOADED&&0===e.length}}const D=p.a.create((t=>({root:{minHeight:"15rem"}}))),M=v(A);e.default=M},Xs4Y:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var i=s("k49u"),o=s("fs1G");const n={[i.a.ResourceNotFound]:{customAction:o.a}}},fyKl:function(t,e,s){"use strict";s.r(e),s.d(e,"default",(function(){return v}));var i=s("97Jx"),o=s.n(i),n=s("KEM+"),r=s.n(n),a=s("ERkP"),c=s("zfvc"),d=s("jHwr"),l=s("VY6S"),h=s("w9LO"),p=s("//dC"),u=s("lHOd"),m=s("Oe3h"),f=s("0FVZ"),_=s("7N4s"),y=s("cHvH"),b=s("rHpw"),g=s("i4Oy"),w=s("shC7"),E=s("MWbm");const I=b.a.create((t=>({rootNarrow:{maxWidth:"75%"},rootWide:{maxWidth:`calc(${t.spaces.space64} * 6)`},anchor:b.a.absoluteFillObject,mask:{...b.a.absoluteFillObject,position:"fixed"},bodyRectHelper:{...b.a.absoluteFillObject,bottom:void 0},content:{borderRadius:t.borderRadii.small,position:"absolute",overflow:"hidden",backgroundColor:t.colors.navigationBackground,boxShadow:t.boxShadows.medium},contentInitialRender:{position:"fixed",opacity:0},contentFixed:{position:"fixed",overflowY:"auto",overscrollBehavior:"contain"}})));class v extends a.Component{constructor(t,e){super(t,e),r()(this,"_handleAnimateComplete",(()=>{const{onAnimateComplete:t}=this.props;t&&t()})),r()(this,"_handleEsc",(t=>{const{onDismiss:e}=this.props,{altKey:s,ctrlKey:i,metaKey:o,key:n}=t;!(s||i||o)&&"Escape"===n&&e()})),r()(this,"_receiveBodyRectHelperRef",(t=>{t&&this._bodyRectHelperNode!==t&&(this._bodyRectHelperNode=t,this._scheduleUpdate())})),r()(this,"_receiveAnchorRef",(t=>{t&&this._anchorNode!==t&&(this._anchorNode=t,this._scheduleUpdate())})),r()(this,"_receiveContentRef",(t=>{t&&this._contentNode!==t&&(this._contentNode=t,this._scheduleUpdate())})),r()(this,"_updatePosition",(()=>{if(!(this._mounted&&(this._anchorNode||this.props.position)&&this._contentNode&&this._contentNode instanceof window.HTMLElement&&this._bodyRectHelperNode&&this._bodyRectHelperNode instanceof window.HTMLElement))return;const t=this._contentNode.scrollHeight,e=this._contentNode.scrollWidth,{left:s,top:i,width:o}=this._bodyRectHelperNode.getBoundingClientRect(),{width:n,height:r}=g.a.get("window");let a={left:0,top:0,height:0,width:0};this.props.position?a={...a,...this.props.position}:this._anchorNode&&this._anchorNode instanceof window.HTMLElement&&(a=this._anchorNode.getBoundingClientRect());const{left:c,top:d,height:l,width:h}=a,p=n-o,u=c-s,m=d-i,f=c+h>=e,_=d+l>=t,y=n-c>=e,b=r-d>=t,E=this.props.preferredVerticalOrientation,I=(t=>w.a.getConstants().isRTL?"left"===t?"right":"left":t)(this.props.preferredHorizontalOrientation),v=this.state.verticalOrientation||(({verticalPreference:t,canOrientUp:e,canOrientDown:s})=>e&&s||!e&&!s?t:e?"up":"down")({verticalPreference:E,canOrientUp:_,canOrientDown:b}),O=this.state.horizontalOrientation||(({horizontalPreference:t,canOrientLeft:e,canOrientRight:s})=>!e||"left"!==t&&s?"right":"left")({horizontalPreference:I,canOrientLeft:f,canOrientRight:y}),R=this.props.isFixed?c:u,S=this.props.isFixed?d:m,U="up"===v?S+l-t:S,x="left"===O?n-R-h-p:n-R-e-p;this.setState({top:Math.max(U,0),right:x,verticalOrientation:v,horizontalOrientation:O})})),this.state=Object.freeze({}),this._scheduleUpdate=Object(d.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(l.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,g.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){this._mounted=!1,g.a.removeEventListener("change",this._scheduleDebouncedUpdate)}render(){const{children:t,isFixed:e,onDismiss:s,animateInDuration:i,animateType:n,withKeyboardNavigation:r}=this.props,{top:d,right:l,verticalOrientation:g}=this.state,v=void 0===d,O=`calc(100vh - ${d||0}px)`,R=[I.content,v&&I.contentInitialRender,e&&[I.contentFixed,{maxHeight:O}],{top:d,right:w.a.getConstants().isRTL?void 0:l,left:w.a.getConstants().isRTL?l:void 0}];return a.createElement(E.a,{ref:this._receiveAnchorRef,style:I.anchor},a.createElement(f.a.Dropdown,null,a.createElement(u.a.Consumer,null,(e=>a.createElement(_.a.Consumer,null,(({isModal:d})=>a.createElement(p.a,{history:e,isModal:d,onDismiss:s},a.createElement(h.a,{withKeyboardNavigation:r},a.createElement(E.a,{onClick:s,style:I.mask}),a.createElement(E.a,{ref:this._receiveBodyRectHelperRef,style:I.bodyRectHelper}),a.createElement(y.a,null,(({windowWidth:e})=>a.createElement(E.a,{accessibilityRole:"menu",onKeyUp:this._handleEsc,ref:this._receiveContentRef,style:[e<b.a.theme.breakpoints.medium?I.rootNarrow:I.rootWide,R]},v&&"slide"===n?t:a.createElement(c.b,{animateMount:"up"!==g,duration:i,onAnimateComplete:this._handleAnimateComplete,show:!0,type:n},(({isAnimating:e})=>a.createElement(m.a,{id:"Dropdown",minimizeReporting:e},((e,s)=>a.createElement(E.a,o()({ref:e()},s({})),t))))))))))))))))}}r()(v,"defaultProps",{preferredHorizontalOrientation:"left",preferredVerticalOrientation:"down",animateType:"slide",animateInDuration:"normal",withKeyboardNavigation:!0})},hqDb:function(t,e,s){"use strict";var i=s("97Jx"),o=s.n(i),n=s("KEM+"),r=s.n(n),a=(s("kYxP"),s("ERkP")),c=s("k49u"),d=s("rxPX"),l=s("0KEI"),h=s("6xIQ"),p=s("kGix"),u=s("G6rE");const m=(t,e)=>e.userIds,f=(t,e)=>{const{userIds:s}=e;return s.filter((e=>!!u.e.select(t,e)))},_=(t,e)=>{const{userIds:s}=e;return s.reduce(((e,s)=>{const i=u.e.selectFetchStatus(t,s);return e[s]=i===p.a.NONE?p.a.LOADING:i,e}),{})};var y=Object(d.a)().propsFromState((()=>({availableUserIds:Object(h.a)(f,(t=>t)),fetchStatus:Object(h.a)(f,_,m,((t,e,s)=>{let i=p.a.LOADED;for(let o=0;o<s.length;o++){const n=s[o];if(-1===t.indexOf(n)){const t=e[n]||p.a.LOADING;i=i===p.a.LOADED?t:i}if(i===p.a.LOADED)break}return i}))}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(l.d)("USERS_LIST_CONTAINER"),fetchUsersIfNeeded:u.e.fetchManyIfNeeded}))),b=s("v//M"),g=s("3XMw"),w=s.n(g),E=s("pQ3Z"),I=s.n(E),v=s("cFuS"),O=s("Re5t"),R=s("MWbm"),S=s("88ay");const U=({displayMode:t,renderUserCell:e,withFinalItemBorder:s,withItemBorder:i,userIds:o})=>a.createElement(R.a,null,o.map(((n,r)=>{const c=r===o.length-1,d=c&&i&&s||!c&&i;return e?e(n):a.createElement(S.b,{decoration:S.d,displayMode:t,key:n,promotedItemType:v.c.USER,userId:n,withBottomBorder:!!d,withFollowsYou:!0})})));U.defaultProps={displayMode:O.a.UserDetailed,withFinalItemBorder:!0,withItemBorder:!1};var x=U;const L=w.a.f5b426c2,T={viewType:"user_list"};class N extends a.Component{constructor(...t){super(...t),r()(this,"state",{allUsersUnavailable:!1}),r()(this,"_renderContent",(()=>{const{availableUserIds:t,createLocalApiErrorHandler:e,fetchStatus:s,fetchUsersIfNeeded:i,userIds:n,...r}=this.props;return a.createElement(x,o()({},r,{userIds:t}))})),r()(this,"_handleFetch",(()=>{this._fetchUsersIfNeeded()}))}componentDidMount(){this._fetchUsersIfNeeded()}componentDidUpdate(t){I()(t.userIds,this.props.userIds)||this._fetchUsersIfNeeded()}render(){return a.createElement(b.a,{accessibilityLabel:L,clientEventContext:T,fetchStatus:this.state.allUsersUnavailable?p.a.LOADED:this.props.fetchStatus,onRequestRetry:this._handleFetch,render:this._renderContent,retryable:!1})}_fetchUsersIfNeeded(){const{createLocalApiErrorHandler:t,fetchUsersIfNeeded:e,availableUserIds:s,userIds:i}=this.props;e(i).then((()=>{this.setState({allUsersUnavailable:!1})}),t({[c.a.AddressBookLookupNotFound]:{customAction:()=>{0===s.length&&this.setState({allUsersUnavailable:!0})}},[c.a.OtherUserSuspended]:{customAction:()=>{0===s.length&&this.setState({allUsersUnavailable:!0})}}}))}}const k=y(N);e.a=k},jHwr:function(t,e,s){"use strict";e.a=(t,e)=>{let s=null;const i=()=>{s=null,t()};return()=>(s||(s=e(i)),s)}},lP98:function(t,e,s){"use strict";s.d(e,"c",(function(){return b})),s.d(e,"b",(function(){return g})),s.d(e,"a",(function(){return w}));var i=s("/kEJ"),o=s("oEOe"),n=s("RgK2"),r=s.n(n),a=s("kGix"),c=s("Ssj5");const d="recommendations",l=30,h="rweb/recommendations/FETCH_REQUEST",p="rweb/recommendations/FETCH_SUCCESS",u="rweb/recommendations/FETCH_FAILURE",m={},f=({displayLocation:t,similarToUserId:e})=>t+(e?`_${e}`:"");c.a.register({[d]:function(t=m,e){if(!e.meta)return t;switch(e.type){case h:{const s=f(e.meta);return{...t,[s]:{...t[s],fetchStatus:a.a.LOADING}}}case u:{const s=f(e.meta);return{...t,[s]:{...t[s],fetchStatus:a.a.FAILED}}}case p:{const s=f(e.meta),i=e.payload&&e.payload.entities?e.payload.entities:{recommendations:r.a},o=(e.payload&&e.payload.result?e.payload.result:y).map((t=>i.recommendations[t]));return{...t,[s]:{...t[s],fetchStatus:a.a.LOADED,recommendations:o}}}default:return t}}});const _=[],y=[],b=(t,{displayLocation:e,similarToUserId:s})=>{const i=t.recommendations[f({displayLocation:e,similarToUserId:s})];return i&&i.recommendations?i.recommendations:_},g=(t,{displayLocation:e,similarToUserId:s})=>{const i=t.recommendations[f({displayLocation:e,similarToUserId:s})];return i?i.fetchStatus:a.a.NONE},w=t=>(e,s,n)=>{const c=s(),{displayLocation:d,similarToUserId:m}=t,f=b(c,{displayLocation:d,similarToUserId:m}),_=g(c,{displayLocation:d,similarToUserId:m})===a.a.LOADED;return f&&_?Promise.resolve(r.a):e((t=>(e,s,{api:n})=>{const{displayLocation:r,itsInterests:a,limit:c=l,similarToUserId:d}=t;return Object(o.b)(e,{request:n.Recommendations.fetch,params:{display_location:r,itsInterests:a,limit:c,user_id:d}})({actionTypes:{REQUEST:h,SUCCESS:p,FAILURE:u},context:"FETCH_RECOMMENDATIONS",meta:{displayLocation:r,similarToUserId:d}},(t=>{if(t)return[Object(i.c)(t.entities)]}))})(t))}},sAnO:function(t,e,s){"use strict";s.r(e);var i=s("fyKl");e.default=i.default},uo3S:function(t,e,s){"use strict";s.r(e);var i=s("ERkP"),o=(s("kYxP"),s("rxPX")),n=s("VAyw"),r=s("XOJV"),a=s("s1N3");const c=t=>{var e,s;return(null==(e=t.entities)||null==(s=e.user_mentions)?void 0:s.map((t=>t.id_str)))||[]},d=(t,e)=>e.focalTweetId;var l=Object(o.a)().propsFromState((()=>({tweetMap:r.a.selectAll,focalTweetId:d}))).adjustStateProps((({tweetMap:t,focalTweetId:e})=>{const s=e&&t[e];if(!s)return{participantIds:[]};const i=[s.user,...c(s),...(o=s,n.a.mergeTaggedUsers(o.extended_entities&&o.extended_entities.media||[]).map((t=>t.user_id)))];var o;const r=s.quoted_status&&t[s.quoted_status];return r&&(i.push(r.user),i.push(...c(r))),{participantIds:Object(a.a)(i)}})).withAnalytics({component:"in_this_conversation"}),h=s("3XMw"),p=s.n(h),u=s("6vad"),m=s("hqDb"),f=s("MWbm");const _=p.a.j88f27d8,y=({maxCount:t,participantIds:e})=>i.createElement(f.a,{accessibilityLabel:_,accessibilityRole:"complementary"},i.createElement(u.b,{text:_}),i.createElement(m.a,{userIds:e.slice(0,t),withFinalItemBorder:!1,withItemBorder:!0}));y.defaultProps={maxCount:3};var b=y;const g=l((t=>i.createElement(b,{participantIds:t.participantIds})));e.default=g}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.WideLayout.84238335.js.map