(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{"iT+n":function(t,e,s){"use strict";s.r(e),s.d(e,"PushNotificationsPromptContainer",(function(){return N}));var o=s("KEM+"),i=s.n(o),n=s("ERkP"),r=s("/yvb"),a=s("3XMw"),c=s.n(a),l=s("hOZg");const p=c.a.ia5e7487,h={viewType:"close_button"};class m extends n.PureComponent{render(){const{ariaLabel:t,closeIcon:e,color:s,disabled:o,onClose:i,isOnMedia:a,size:c,style:m}=this.props,d=e||n.createElement(l.a,null);return n.createElement(r.a,{accessibilityLabel:t||p,borderColor:"transparent",clientEventContext:h,color:s,disabled:o,icon:d,onPress:i,size:c,style:m,type:a?"onMedia":void 0})}}i()(m,"defaultProps",{color:"white",disabled:!1,size:"normal"});var d=m,u=s("vEo5"),b=s("1YZw"),f=s("rxPX");var P=Object(f.a)().propsFromState((()=>({promptAllowed:u.selectIsEligibleForPushPrompt}))).propsFromActions((()=>({addToast:b.b,dismissPushNotificationsPrompt:u.dismissPushNotificationsPrompt,pushSubscribe:u.pushSubscribe}))).withAnalytics({component:"soft_permission_prompt",element:"push_notifications"}),w=s("5pef"),C=s("feu+"),_=s("fs1G"),A=s("Lz2T");const S=c.a.hee41732,y=c.a.b813e4db,g=c.a.e71e09ec,E=c.a.e71e09ec,x=c.a.hd50e063,v=c.a.g4850f43,T=c.a.dc397181;class N extends n.Component{constructor(t,e){super(t,e),i()(this,"_messageRightControl",(()=>n.createElement(d,{color:"gray700",onClose:this._handleCancel}))),i()(this,"_handleConfirm",(()=>{const{addToast:t,pushSubscribe:e}=this.props;this._scribeAction("click"),e().then((e=>{e&&(this.setState({forceShowPrompt:!1}),t({action:{label:T,link:"/settings/push_notifications"},text:v}))}))})),i()(this,"_handleCancel",(()=>{const{dismissPushNotificationsPrompt:t,onDismiss:e}=this.props;t(),this.setState({forceShowPrompt:!1}),this._scribeAction("dismiss"),e()})),this.state={forceShowPrompt:t.promptAllowed}}componentDidUpdate(t,e){const{dismissPushNotificationsPrompt:s,promptAllowed:o}=this.props;!t.promptAllowed&&o&&(this._scribeAction("impression"),s(),this.setState({forceShowPrompt:!0}))}componentDidMount(){const{dismissPushNotificationsPrompt:t,promptAllowed:e}=this.props;e&&(this._scribeAction("impression"),this.setState({forceShowPrompt:!0}),t())}render(){const{fullScreen:t,promptAllowed:e,message:s}=this.props;return e||this.state.forceShowPrompt?t?n.createElement(C.a,{actionLabel:E,graphic:w.a,headline:g,onAction:this._handleConfirm,onClose:this._handleCancel,onTertiaryAction:this._handleCancel,subtext:s,tertiaryActionLabel:x}):n.createElement(A.a,{bodyText:s,entryId:"PushNotificationsPrompt",primaryAction:{onClick:this._handleConfirm,text:E},rightControl:this._messageRightControl(),titleText:S}):null}_scribeAction(t){const{analytics:e}=this.props;e.scribeAction(t)}}i()(N,"defaultProps",{fullScreen:!1,message:y,onDismiss:_.a});const k=P(N);e.default=k}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.PushNotificationsPrompt.fbcd1ff5.js.map